<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="wp_odoo_product_deal_form_view" model="ir.ui.view">
            <field name="name">product.deals.woo.form</field>
            <field name="model">product.deals</field>
            <field name="inherit_id" ref="product_deals.view_product_deal_form" />
            <field eval="7" name="priority"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet" position="before">
                   <header position="inside">
                    <button name="sync_product_deals" string="Sync" type="object" class="oe_highlight"/>
                </header>
                </xpath>
                
                <xpath expr="//field[@name='status']" position="before">
                    <field name="backend_id" widget="many2many_tags" required="1"/>
                    
                </xpath>
                <xpath expr="//field[@name='backend_id']" position="after">
                    <field name="deals_category"/>
                </xpath>

            </field>
        </record>

        <record id="sync_product_deals_all" model="ir.actions.server">
             <field name="name">Sync </field>
              <field name="model_id" ref="odoo_woo_connect.model_product_deals"/>
             <field name="state">code</field>
             <field name="code">
                if records:
                action=records.sync_product_deals_multiple()
               </field>
        </record>
<!--         <record id="synch_pro" model="ir.values">
            <field eval="'client_action_multi'" name="key2"/>
            <field eval="'product.deals'" name="model"/>
            <field name="name">sync</field>
            <field eval="'ir.actions.server,%d'%sync_product_deals_all" name="value"/>
        </record> -->
    </data>
</odoo> 